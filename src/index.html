<!doctype html>
<html lang="en-US">
  <head>
    <%= t.include("partials/_head.html", grunt.data.json) %>
    <% if (json.project.production && !json.project.embedded) { %>
      <%= t.include("partials/_dataLayer.html") %>
      <%= t.include("partials/_gtm.html") %>
    <% } %>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script>
      window.case_data = <%= JSON.stringify(grunt.data.csv) %>;
    </script>
  </head>
  <body>
    <% if (json.project.production && !json.project.embedded) { %>
      <%= t.include("partials/_gtmNoScript.html") %>
    <% } %>
    <responsive-child>
          <main class="interactive" id="countyMapGraphic">
            <h1 class="graphic-hed">Washington coronavirus cases and deaths</h1>
            <p class="note center">Total cases as of 11:59 p.m. on <span id="date"></span>, 2020 | Updated at the end of each day </p>

            <p class="note center"><b>The state will no longer report deaths on the weekend.</b></p>

            <p class="note center">Nov. 5, 2020: After a third of counties hit over 120 cases per 10,000 residents, we have adjusted the cases per capita color key to every 50 cases to better reflect the differences among counties.</p>


            <form id="toggle2">
              <div class="cases col">
                <div class="radioHeader">Confirmed cases</div>

                <input type="radio" id="casesCounty" name="toggleCounty" class="radioButton1" value="cases" checked>
                <label class="toggle__label label--cases" for="casesCounty"><span id="casesTotal"></span> total cases*</label>
                <input type="radio" id="popC" name="toggleCounty" class="radioButton1" value="casesPop">
                <label class="toggle__label label--cases" for="popC"><span id="casesAdj"></span> cases per 10,000 residents</label>
              </div>

              <div class="deaths col">
                <div class="radioHeader">Deaths</div>

                <input type="radio" id="deathsCounty" name="toggleCounty" class="radioButton1" value="deaths">
                <label class="toggle__label label--deaths" for="deathsCounty"><span id="deathsTotal"></span> total deaths</label>
                <input type="radio" id="popD" name="toggleCounty" class="radioButton1" value="deathsPop">
                <label class="toggle__label label--deaths" for="popD"><span id="deathsAdj"></span> deaths per 10,000 residents</label>
              </div>
            </form>


            <div class="caseKey" id="casesPop">
              <div class="hed">Cases per 10,000 residents</div>
              <div class="eachKey"><span class="key" style="background-color:#730505;"></span> 200.1 or more cases</div>
              <div class="eachKey"><span class="key" style="background-color:#914c14;"></span> 150.1 - 200.0 cases</div>
              <div class="eachKey"><span class="key" style="background-color:#d28449;"></span> 100.1 - 150.0 cases</div>
              <div class="eachKey"><span class="key" style="background-color:#ffc88a;"></span> 50.1 - 100.0 cases</div>
              <div class="eachKey"><span class="key" style="background-color:#FFE9CF;"></span> 0.1 - 50.0 cases</div>
              <!-- <div class="eachKey"><span class="key" style="background-color:#e2e2e2;"></span> Zero cases</div> -->
            </div>

            <div class="caseKey" id="cases">
              <div class="hed">Total cases</div>
              <div class="eachKey"><span class="key" style="background-color:#D8894E;"></span> Counties with cases</div>
              <div class="eachKey"><span class="key" style="background-color:#e2e2e2;"></span> Counties without cases</div>
            </div>

            <div class="caseKey" id="deaths">
              <div class="hed">Total deaths</div>
              <div class="eachKey"><span class="key" style="background-color:#D15959;"></span> Counties with deaths</div>
              <div class="eachKey"><span class="key" style="background-color:#e2e2e2;"></span> Counties without deaths</div>
            </div>

            <div class="caseKey" id="deathsPop">
              <div class="hed">Deaths per 10,000 residents</div>
              <div class="eachKey"><span class="key" style="background-color:#61000a;"></span> 4.1 or more deaths</div>
              <div class="eachKey"><span class="key" style="background-color:#931f2b;"></span> 3.1 - 4.0 deaths</div>
              <div class="eachKey"><span class="key" style="background-color:#d05858;"></span> 2.1 - 3.0 deaths</div>
              <div class="eachKey"><span class="key" style="background-color:#ff9894;"></span> 1.1 - 2.0 deaths</div>
              <div class="eachKey"><span class="key" style="background-color:#ffd9d7;"></span> 0.1 - 1.0 deaths</div>
              <!-- <div class="eachKey"><span class="key" style="background-color:#ffd9d7;"></span> 0.1 - 0.5 deaths</div> -->
              <div class="eachKey"><span class="key" style="background-color:#e2e2e2;"></span> Below 0.1 deaths</div>
            </div>

            <div class="CountyMap">
              <%= t.include("assets/countyMap.svg") %>
              <p class="unassigned cases casesPop"><span></span> cases have not been identified by county.</p>
              <p class="unassigned deaths deathsPop"><span></span> death has not been identified by county.</p>
            </div>

            <div class="caption-container">
              <p class="caption">
                July 30, 2020: We have readjusted the color legend to breakdown cases per
                10,000 residents by every 30 cases instead of every 15. This better reflects the
                differences among counties after a third of the counties previously fell into the top category.
              </p>
              <p class="caption"><br>*Total confirmed cases include deaths.</p>
              <p class="data-source">Source: <a href="https://www.doh.wa.gov/Emergencies/Coronavirus" target="_blank" rel="noreferrer nofollow">Washington State Department of Health</a>. 2020 population estimates from Washington Office of Financial Management
</p>
              <p class="art-credit">Lauren Flannery and Hilary Fung / The Seattle Times</p>
            </div>
          </main>
        </responsive-child>

    <script src="app.js" async></script>
    <% if (json.project.production) { %>
    <%= !json.project.embedded ? t.include("partials/_analytics.html") : "" %>
    <%= t.include("partials/_workHere.html") %>
    <% } %>
  </body>
</html>
